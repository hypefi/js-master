<p>Drag the bar to change its width:</p>
<div id="bar" style="background: orange; width: 60px; height: 20px"> </div>
<script>
let lastX; // Tracks the last observed mouse X position let bar = document.querySelector("div");

bar.addEventListener("mousedown", event => { if (event.button == 0) {
lastX = event.clientX; window.addEventListener("mousemove", moved); 
event.preventDefault(); // Prevent selection
} });
   function moved(event) {
     if (event.buttons == 0) {
window.removeEventListener("mousemove", moved); } else {
let dist = event.clientX - lastX;
let newWidth = Math.max(10, bar.offsetWidth + dist); bar.style.width = newWidth + "px";
lastX = event.clientX;
} }
</script>


<style>
   #progress {
     border-bottom: 2px solid blue;
     width: 0;
     position: fixed;
     top: 0; 
     left: 0;
}
</style>
<div id="progress"></div> <script>
   // Create some content
   document.body.appendChild(document.createTextNode(
"supercalifragilisticexpialidocious ".repeat(1000)));
let progress = document.querySelector("#progress"); 
window.addEventListener("scroll", () => {
let max = document.body.scrollHeight - innerHeight;
progress.style.width = `${(pageYOffset / max) * 100}%`;
 });
</script>